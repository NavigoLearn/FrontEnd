---
import RequestManager from '../components/misc/RequestManager';
import DataCollectionManager from '../components/misc/DataCollectionManager';
import BasePopupManager from '../components/shared/BasePopupManager';

import '@fontsource/kanit';
import '@fontsource/oxygen';
import { PageMeta } from '../types/misc/PageMeta';
import NavbarRoadmap from '../components/roadmap/navbar-roadmap/NavbarRoadmap';

export interface Props {
  metadata?: PageMeta;
  excludeFooter?: boolean;
}

const { metadata, excludeFooter } = Astro.props;
---

<html lang='en' class='overflow-x-hidden'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <meta name='generator' content={Astro.generator} />
    <title>{metadata?.title || 'Unknown Page'} | NavigoLearn</title>
    <meta
      name='description'
      content={metadata?.description ||
        'NavigoLearn is an community-driven platform for learning and teaching programming languages.'}
    />
    <meta name='theme-color' content={metadata?.['theme-color'] || '#3361D8'} />
    <meta property='og:title' content={metadata?.title || 'Unknown Page'} />
    <meta
      property='og:description'
      content={metadata?.description ||
        'NavigoLearn is an community-driven platform for learning and teaching programming languages.'}
    />
    <meta property='og:type' content={metadata?.type || 'website'} />
    <meta
      property='og:url'
      content={metadata?.url || 'https://navigolearn.com'}
    />
    <meta property='og:locale' content={metadata?.locale || 'en_US'} />
    <meta
      property='og:site_name'
      content={metadata?.site_name || 'NavigoLearn'}
    />
    <meta property='og:image' content={metadata?.image || ''} />
    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      href='https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap'
      rel='stylesheet'
    />
  </head>

  <body class='bg-background relative w-full min-h-screen'>
    <DataCollectionManager client:load />
    <RequestManager client:load />
    <NavbarRoadmap client:load />

    <slot />

    <div id="menu-portal" class="absolute top-0 left-0 w-screen h-screen z-90 pointer-events-none"></div>
  </body>
</html>
